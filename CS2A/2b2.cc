//PROGRAM 2

#include <iostream>
#include <math.h>
#include <iomanip>
using namespace std;

int main()
{
    //initiate calculation variables
    int n, nFactorialExpand, stirlingsApproxExpand, expandDiff;
    double nFactorial, stirlingsApprox, error;
    
    //program parameters
    const int N_LOWER = 100, N_UPPER = 300;
    
    //tab for display
    const char TAB = '\t';
    
    //introduction and header
    cout << "Family name: Yip\nStudent ID: 20267919\n";
    cout << "n\tlog n!\t\tnLog(n)-n\tError\n---------------------------"
        << "------------------\n";
    
    //main loop
    for (n = N_LOWER; n <= N_UPPER; n++)
    {
        //For Log(n!)
        nFactorial = 0;
        nFactorialExpand = 0;
        for (int k = 1; k <= n; k++)
            nFactorial += log(k);
        while (nFactorial >= 10)
        {
            nFactorial /= 10;
            nFactorialExpand++;
        }
        
        //For  nLog(n)-n
        stirlingsApproxExpand = 0;
        stirlingsApprox = n * log(n) - n;
        while (stirlingsApprox >= 10)
        {
            stirlingsApprox /= 10;
            stirlingsApproxExpand++;
        }
        
        //For error
        expandDiff = stirlingsApproxExpand - nFactorialExpand;
        error = 100 * (nFactorial - stirlingsApprox * pow(10, expandDiff)) / 
            nFactorial;
        
        //output
        cout << fixed << setprecision(4) << n << TAB << nFactorial << "E" 
            << nFactorialExpand << TAB << stirlingsApprox << "E" 
            << stirlingsApproxExpand << TAB;
        cout << fixed << setprecision(2) << error << "%" << endl;
        
    }

    return 0;
}

/* ------------------------------RUN 2-----------------------------------------

Family name: Yip
Student ID: 20267919
n       log n!          nLog(n)-n       Error
---------------------------------------------
100     3.6374E2        3.6052E2        0.89%
101     3.6835E2        3.6513E2        0.88%
102     3.7298E2        3.6975E2        0.87%
103     3.7761E2        3.7438E2        0.86%
104     3.8226E2        3.7902E2        0.85%
105     3.8691E2        3.8367E2        0.84%
106     3.9158E2        3.8832E2        0.83%
107     3.9625E2        3.9299E2        0.82%
108     4.0093E2        3.9767E2        0.81%
109     4.0562E2        4.0236E2        0.81%
110     4.1032E2        4.0705E2        0.80%
111     4.1503E2        4.1176E2        0.79%
112     4.1975E2        4.1647E2        0.78%
113     4.2448E2        4.2119E2        0.77%
114     4.2921E2        4.2593E2        0.77%
115     4.3396E2        4.3067E2        0.76%
116     4.3871E2        4.3542E2        0.75%
117     4.4348E2        4.4017E2        0.74%
118     4.4825E2        4.4494E2        0.74%
119     4.5302E2        4.4972E2        0.73%
120     4.5781E2        4.5450E2        0.72%
121     4.6261E2        4.5929E2        0.72%
122     4.6741E2        4.6409E2        0.71%
123     4.7222E2        4.6890E2        0.70%
124     4.7704E2        4.7371E2        0.70%
125     4.8187E2        4.7854E2        0.69%
126     4.8671E2        4.8337E2        0.69%
127     4.9155E2        4.8821E2        0.68%
128     4.9641E2        4.9306E2        0.67%
129     5.0127E2        4.9792E2        0.67%
130     5.0613E2        5.0278E2        0.66%
131     5.1101E2        5.0765E2        0.66%
132     5.1589E2        5.1253E2        0.65%
133     5.2078E2        5.1742E2        0.65%
134     5.2568E2        5.2231E2        0.64%
135     5.3058E2        5.2721E2        0.64%
136     5.3550E2        5.3212E2        0.63%
137     5.4042E2        5.3704E2        0.63%
138     5.4534E2        5.4196E2        0.62%
139     5.5028E2        5.4689E2        0.62%
140     5.5522E2        5.5183E2        0.61%
141     5.6017E2        5.5678E2        0.61%
142     5.6512E2        5.6173E2        0.60%
143     5.7009E2        5.6669E2        0.60%
144     5.7506E2        5.7165E2        0.59%
145     5.8003E2        5.7663E2        0.59%
146     5.8502E2        5.8161E2        0.58%
147     5.9001E2        5.8659E2        0.58%
148     5.9501E2        5.9159E2        0.57%
149     6.0001E2        5.9659E2        0.57%
150     6.0502E2        6.0160E2        0.57%
151     6.1004E2        6.0661E2        0.56%
152     6.1506E2        6.1163E2        0.56%
153     6.2009E2        6.1666E2        0.55%
154     6.2513E2        6.2169E2        0.55%
155     6.3017E2        6.2673E2        0.55%
156     6.3522E2        6.3178E2        0.54%
157     6.4028E2        6.3683E2        0.54%
158     6.4534E2        6.4189E2        0.53%
159     6.5041E2        6.4696E2        0.53%
160     6.5548E2        6.5203E2        0.53%
161     6.6057E2        6.5711E2        0.52%
162     6.6565E2        6.6219E2        0.52%
163     6.7075E2        6.6728E2        0.52%
164     6.7585E2        6.7238E2        0.51%
165     6.8095E2        6.7748E2        0.51%
166     6.8607E2        6.8259E2        0.51%
167     6.9118E2        6.8770E2        0.50%
168     6.9631E2        6.9283E2        0.50%
169     7.0144E2        6.9795E2        0.50%
170     7.0657E2        7.0309E2        0.49%
171     7.1171E2        7.0822E2        0.49%
172     7.1686E2        7.1337E2        0.49%
173     7.2202E2        7.1852E2        0.48%
174     7.2717E2        7.2368E2        0.48%
175     7.3234E2        7.2884E2        0.48%
176     7.3751E2        7.3401E2        0.48%
177     7.4269E2        7.3918E2        0.47%
178     7.4787E2        7.4436E2        0.47%
179     7.5306E2        7.4954E2        0.47%
180     7.5825E2        7.5473E2        0.46%
181     7.6345E2        7.5993E2        0.46%
182     7.6865E2        7.6513E2        0.46%
183     7.7386E2        7.7034E2        0.46%
184     7.7908E2        7.7555E2        0.45%
185     7.8430E2        7.8077E2        0.45%
186     7.8952E2        7.8599E2        0.45%
187     7.9475E2        7.9122E2        0.44%
188     7.9999E2        7.9645E2        0.44%
189     8.0523E2        8.0169E2        0.44%
190     8.1048E2        8.0693E2        0.44%
191     8.1573E2        8.1218E2        0.43%
192     8.2099E2        8.1744E2        0.43%
193     8.2625E2        8.2270E2        0.43%
194     8.3152E2        8.2796E2        0.43%
195     8.3679E2        8.3323E2        0.42%
196     8.4207E2        8.3851E2        0.42%
197     8.4735E2        8.4379E2        0.42%
198     8.5264E2        8.4908E2        0.42%
199     8.5793E2        8.5437E2        0.42%
200     8.6323E2        8.5966E2        0.41%
201     8.6854E2        8.6496E2        0.41%
202     8.7384E2        8.7027E2        0.41%
203     8.7916E2        8.7558E2        0.41%
204     8.8447E2        8.8090E2        0.40%
205     8.8980E2        8.8622E2        0.40%
206     8.9513E2        8.9154E2        0.40%
207     9.0046E2        8.9687E2        0.40%
208     9.0580E2        9.0221E2        0.40%
209     9.1114E2        9.0755E2        0.39%
210     9.1649E2        9.1289E2        0.39%
211     9.2184E2        9.1824E2        0.39%
212     9.2719E2        9.2360E2        0.39%
213     9.3256E2        9.2896E2        0.39%
214     9.3792E2        9.3432E2        0.38%
215     9.4329E2        9.3969E2        0.38%
216     9.4867E2        9.4506E2        0.38%
217     9.5405E2        9.5044E2        0.38%
218     9.5943E2        9.5582E2        0.38%
219     9.6482E2        9.6121E2        0.37%
220     9.7021E2        9.6660E2        0.37%
221     9.7561E2        9.7199E2        0.37%
222     9.8102E2        9.7739E2        0.37%
223     9.8642E2        9.8280E2        0.37%
224     9.9183E2        9.8821E2        0.37%
225     9.9725E2        9.9362E2        0.36%
226     1.0027E3        9.9904E2        0.36%
227     1.0081E3        1.0045E3        0.36%
228     1.0135E3        1.0099E3        0.36%
229     1.0190E3        1.0153E3        0.36%
230     1.0244E3        1.0208E3        0.36%
231     1.0298E3        1.0262E3        0.35%
232     1.0353E3        1.0316E3        0.35%
233     1.0407E3        1.0371E3        0.35%
234     1.0462E3        1.0425E3        0.35%
235     1.0517E3        1.0480E3        0.35%
236     1.0571E3        1.0535E3        0.35%
237     1.0626E3        1.0589E3        0.34%
238     1.0681E3        1.0644E3        0.34%
239     1.0735E3        1.0699E3        0.34%
240     1.0790E3        1.0754E3        0.34%
241     1.0845E3        1.0808E3        0.34%
242     1.0900E3        1.0863E3        0.34%
243     1.0955E3        1.0918E3        0.33%
244     1.1010E3        1.0973E3        0.33%
245     1.1065E3        1.1028E3        0.33%
246     1.1120E3        1.1083E3        0.33%
247     1.1175E3        1.1138E3        0.33%
248     1.1230E3        1.1193E3        0.33%
249     1.1285E3        1.1248E3        0.33%
250     1.1340E3        1.1304E3        0.32%
251     1.1396E3        1.1359E3        0.32%
252     1.1451E3        1.1414E3        0.32%
253     1.1506E3        1.1469E3        0.32%
254     1.1562E3        1.1525E3        0.32%
255     1.1617E3        1.1580E3        0.32%
256     1.1673E3        1.1636E3        0.32%
257     1.1728E3        1.1691E3        0.31%
258     1.1784E3        1.1747E3        0.31%
259     1.1839E3        1.1802E3        0.31%
260     1.1895E3        1.1858E3        0.31%
261     1.1950E3        1.1913E3        0.31%
262     1.2006E3        1.1969E3        0.31%
263     1.2062E3        1.2025E3        0.31%
264     1.2118E3        1.2081E3        0.31%
265     1.2173E3        1.2136E3        0.30%
266     1.2229E3        1.2192E3        0.30%
267     1.2285E3        1.2248E3        0.30%
268     1.2341E3        1.2304E3        0.30%
269     1.2397E3        1.2360E3        0.30%
270     1.2453E3        1.2416E3        0.30%
271     1.2509E3        1.2472E3        0.30%
272     1.2565E3        1.2528E3        0.30%
273     1.2621E3        1.2584E3        0.30%
274     1.2677E3        1.2640E3        0.29%
275     1.2733E3        1.2696E3        0.29%
276     1.2790E3        1.2752E3        0.29%
277     1.2846E3        1.2809E3        0.29%
278     1.2902E3        1.2865E3        0.29%
279     1.2958E3        1.2921E3        0.29%
280     1.3015E3        1.2977E3        0.29%
281     1.3071E3        1.3034E3        0.29%
282     1.3128E3        1.3090E3        0.28%
283     1.3184E3        1.3147E3        0.28%
284     1.3241E3        1.3203E3        0.28%
285     1.3297E3        1.3260E3        0.28%
286     1.3354E3        1.3316E3        0.28%
287     1.3410E3        1.3373E3        0.28%
288     1.3467E3        1.3429E3        0.28%
289     1.3523E3        1.3486E3        0.28%
290     1.3580E3        1.3543E3        0.28%
291     1.3637E3        1.3599E3        0.28%
292     1.3694E3        1.3656E3        0.27%
293     1.3750E3        1.3713E3        0.27%
294     1.3807E3        1.3770E3        0.27%
295     1.3864E3        1.3827E3        0.27%
296     1.3921E3        1.3883E3        0.27%
297     1.3978E3        1.3940E3        0.27%
298     1.4035E3        1.3997E3        0.27%
299     1.4092E3        1.4054E3        0.27%
300     1.4149E3        1.4111E3        0.27%


Process exited with code: 0

---------------------------------------------------------------------------- */